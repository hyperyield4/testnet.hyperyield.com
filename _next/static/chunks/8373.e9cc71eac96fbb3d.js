(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8373],{23493:function(n,r,t){var e=t(23279),i=t(13218);n.exports=function(n,r,t){var a=!0,o=!0;if("function"!=typeof n)throw TypeError("Expected a function");return i(t)&&(a="leading"in t?!!t.leading:a,o="trailing"in t?!!t.trailing:o),e(n,r,{leading:a,maxWait:r,trailing:o})}},2714:function(n,r,t){"use strict";var e=t(67294),i=t(23326),a=t(51046);r.Z=function(n){a.Z&&!(0,i.mf)(n)&&console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof n));var r=(0,e.useRef)(n);r.current=(0,e.useMemo)(function(){return n},[n]);var t=(0,e.useRef)();return t.current||(t.current=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r.current.apply(this,n)}),t.current}},98373:function(n,r,t){"use strict";t.d(r,{Z:function(){return k}});var e,i=t(97582),a=t(67294),o=(e=a.useEffect,function(n,r){var t=(0,a.useRef)(!1);e(function(){return function(){t.current=!1}},[]),e(function(){if(t.current)return n();t.current=!0},r)}),u=function(n,r){var t=r.manual,e=r.ready,u=void 0===e||e,c=r.defaultParams,s=void 0===c?[]:c,l=r.refreshDeps,f=r.refreshDepsAction,d=(0,a.useRef)(!1);return d.current=!1,o(function(){!t&&u&&(d.current=!0,n.run.apply(n,(0,i.__spreadArray)([],(0,i.__read)(s),!1)))},[u]),o(function(){!d.current&&(t||(d.current=!0,f?f():n.refresh()))},(0,i.__spreadArray)([],(0,i.__read)(void 0===l?[]:l),!1)),{onBefore:function(){if(!u)return{stopNow:!0}}}};u.onInit=function(n){var r=n.ready;return{loading:!n.manual&&(void 0===r||r)}};var c=t(53156);function s(n,r){var t=(0,a.useRef)({deps:r,obj:void 0,initialized:!1}).current;return!1!==t.initialized&&(0,c.Z)(t.deps,r)||(t.deps=r,t.obj=n(),t.initialized=!0),t.obj}var l=t(84966),f=new Map,d=function(n,r,t){var e=f.get(n);(null==e?void 0:e.timer)&&clearTimeout(e.timer);var a=void 0;r>-1&&(a=setTimeout(function(){f.delete(n)},r)),f.set(n,(0,i.__assign)((0,i.__assign)({},t),{timer:a}))},v=new Map,p=function(n,r){v.set(n,r),r.then(function(r){return v.delete(n),r}).catch(function(){v.delete(n)})},h={},_=function(n,r){h[n]&&h[n].forEach(function(n){return n(r)})},y=function(n,r){return h[n]||(h[n]=[]),h[n].push(r),function(){var t=h[n].indexOf(r);h[n].splice(t,1)}},g=function(n,r){var t=r.cacheKey,e=r.cacheTime,o=void 0===e?3e5:e,u=r.staleTime,c=void 0===u?0:u,h=r.setCache,g=r.getCache,m=(0,a.useRef)(),b=(0,a.useRef)(),w=function(n,r){h?h(r):d(n,o,r),_(n,r.data)},A=function(n,r){return(void 0===r&&(r=[]),g)?g(r):f.get(n)};return(s(function(){if(t){var r=A(t);r&&Object.hasOwnProperty.call(r,"data")&&(n.state.data=r.data,n.state.params=r.params,(-1===c||new Date().getTime()-r.time<=c)&&(n.state.loading=!1)),m.current=y(t,function(r){n.setState({data:r})})}},[]),(0,l.Z)(function(){var n;null===(n=m.current)||void 0===n||n.call(m)}),t)?{onBefore:function(n){var r=A(t,n);return r&&Object.hasOwnProperty.call(r,"data")?-1===c||new Date().getTime()-r.time<=c?{loading:!1,data:null==r?void 0:r.data,error:void 0,returnNow:!0}:{data:null==r?void 0:r.data,error:void 0}:{}},onRequest:function(n,r){var e=v.get(t);return e&&e!==b.current||(e=n.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(r),!1)),b.current=e,p(t,e)),{servicePromise:e}},onSuccess:function(r,e){var i;t&&(null===(i=m.current)||void 0===i||i.call(m),w(t,{data:r,params:e,time:new Date().getTime()}),m.current=y(t,function(r){n.setState({data:r})}))},onMutate:function(r){var e;t&&(null===(e=m.current)||void 0===e||e.call(m),w(t,{data:r,params:n.state.params,time:new Date().getTime()}),m.current=y(t,function(r){n.setState({data:r})}))}}:{}},m=t(23279),b=t.n(m),w=function(n,r){var t=r.debounceWait,e=r.debounceLeading,o=r.debounceTrailing,u=r.debounceMaxWait,c=(0,a.useRef)(),s=(0,a.useMemo)(function(){var n={};return void 0!==e&&(n.leading=e),void 0!==o&&(n.trailing=o),void 0!==u&&(n.maxWait=u),n},[e,o,u]);return((0,a.useEffect)(function(){if(t){var r=n.runAsync.bind(n);return c.current=b()(function(n){n()},t,s),n.runAsync=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return new Promise(function(t,e){var a;null===(a=c.current)||void 0===a||a.call(c,function(){r.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(n),!1)).then(t).catch(e)})})},function(){var t;null===(t=c.current)||void 0===t||t.cancel(),n.runAsync=r}}},[t,s]),t)?{onCancel:function(){var n;null===(n=c.current)||void 0===n||n.cancel()}}:{}},A=function(n,r){var t=r.loadingDelay,e=r.ready,i=(0,a.useRef)();if(!t)return{};var o=function(){i.current&&clearTimeout(i.current)};return{onBefore:function(){return o(),!1!==e&&(i.current=setTimeout(function(){n.setState({loading:!0})},t)),{loading:!1}},onFinally:function(){o()},onCancel:function(){o()}}},P=t(37727);function R(){return!P.Z||"hidden"!==document.visibilityState}var T=[];P.Z&&window.addEventListener("visibilitychange",function(){if(R())for(var n=0;n<T.length;n++)(0,T[n])()},!1);var Z=function(n,r){var t=r.pollingInterval,e=r.pollingWhenHidden,i=void 0===e||e,u=r.pollingErrorRetryCount,c=void 0===u?-1:u,s=(0,a.useRef)(),l=(0,a.useRef)(),f=(0,a.useRef)(0),d=function(){var n;s.current&&clearTimeout(s.current),null===(n=l.current)||void 0===n||n.call(l)};return(o(function(){t||d()},[t]),t)?{onBefore:function(){d()},onError:function(){f.current+=1},onSuccess:function(){f.current=0},onFinally:function(){-1===c||-1!==c&&f.current<=c?s.current=setTimeout(function(){if(i||R())n.refresh();else{var r;l.current=(r=function(){n.refresh()},T.push(r),function(){var n=T.indexOf(r);T.splice(n,1)})}},t):f.current=0},onCancel:function(){d()}}:{}},E=[];if(P.Z){var S=function(){if(R()&&(!P.Z||void 0===navigator.onLine||navigator.onLine))for(var n=0;n<E.length;n++)(0,E[n])()};window.addEventListener("visibilitychange",S,!1),window.addEventListener("focus",S,!1)}var C=function(n,r){var t=r.refreshOnWindowFocus,e=r.focusTimespan,o=void 0===e?5e3:e,u=(0,a.useRef)(),c=function(){var n;null===(n=u.current)||void 0===n||n.call(u)};return(0,a.useEffect)(function(){if(t){var r,e,a,s=(r=n.refresh.bind(n),e=!1,function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];e||(e=!0,r.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(n),!1)),setTimeout(function(){e=!1},o))});u.current=(a=function(){s()},E.push(a),function(){var n=E.indexOf(a);n>-1&&E.splice(n,1)})}return function(){c()}},[t,o]),(0,l.Z)(function(){c()}),{}},O=function(n,r){var t=r.retryInterval,e=r.retryCount,i=(0,a.useRef)(),o=(0,a.useRef)(0),u=(0,a.useRef)(!1);return e?{onBefore:function(){u.current||(o.current=0),u.current=!1,i.current&&clearTimeout(i.current)},onSuccess:function(){o.current=0},onError:function(){if(o.current+=1,-1===e||o.current<=e){var r=null!=t?t:Math.min(1e3*Math.pow(2,o.current),3e4);i.current=setTimeout(function(){u.current=!0,n.refresh()},r)}else o.current=0},onCancel:function(){o.current=0,i.current&&clearTimeout(i.current)}}:{}},x=t(23493),M=t.n(x),H=function(n,r){var t=r.throttleWait,e=r.throttleLeading,o=r.throttleTrailing,u=(0,a.useRef)(),c={};return(void 0!==e&&(c.leading=e),void 0!==o&&(c.trailing=o),(0,a.useEffect)(function(){if(t){var r=n.runAsync.bind(n);return u.current=M()(function(n){n()},t,c),n.runAsync=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return new Promise(function(t,e){var a;null===(a=u.current)||void 0===a||a.call(u,function(){r.apply(void 0,(0,i.__spreadArray)([],(0,i.__read)(n),!1)).then(t).catch(e)})})},function(){var t;n.runAsync=r,null===(t=u.current)||void 0===t||t.cancel()}}},[t,e,o]),t)?{onCancel:function(){var n;null===(n=u.current)||void 0===n||n.cancel()}}:{}},j=t(39200),B=t(2714),F=t(23326),N=t(51046),D=function(n){N.Z&&!(0,F.mf)(n)&&console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof n,'".')),(0,a.useEffect)(function(){null==n||n()},[])},L=function(){var n=(0,i.__read)((0,a.useState)({}),2)[1];return(0,a.useCallback)(function(){return n({})},[])},W=function(){function n(n,r,t,e){void 0===e&&(e={}),this.serviceRef=n,this.options=r,this.subscribe=t,this.initState=e,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},this.state),{loading:!r.manual}),e)}return n.prototype.setState=function(n){void 0===n&&(n={}),this.state=(0,i.__assign)((0,i.__assign)({},this.state),n),this.subscribe()},n.prototype.runPluginHandler=function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var e=this.pluginImpls.map(function(t){var e;return null===(e=t[n])||void 0===e?void 0:e.call.apply(e,(0,i.__spreadArray)([t],(0,i.__read)(r),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,i.__spreadArray)([{}],(0,i.__read)(e),!1))},n.prototype.runAsync=function(){for(var n,r,t,e,a,o,u,c,s,l,f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return(0,i.__awaiter)(this,void 0,void 0,function(){var d,v,p,h,_,y,g,m,b,w,A;return(0,i.__generator)(this,function(P){switch(P.label){case 0:if(this.count+=1,d=this.count,h=void 0!==(p=(v=this.runPluginHandler("onBefore",f)).stopNow)&&p,y=void 0!==(_=v.returnNow)&&_,g=(0,i.__rest)(v,["stopNow","returnNow"]),h)return[2,new Promise(function(){})];if(this.setState((0,i.__assign)({loading:!0,params:f},g)),y)return[2,Promise.resolve(g.data)];null===(r=(n=this.options).onBefore)||void 0===r||r.call(n,f),P.label=1;case 1:return P.trys.push([1,3,,4]),(m=this.runPluginHandler("onRequest",this.serviceRef.current,f).servicePromise)||(m=(A=this.serviceRef).current.apply(A,(0,i.__spreadArray)([],(0,i.__read)(f),!1))),[4,m];case 2:if(b=P.sent(),d!==this.count)return[2,new Promise(function(){})];return this.setState({data:b,error:void 0,loading:!1}),null===(e=(t=this.options).onSuccess)||void 0===e||e.call(t,b,f),this.runPluginHandler("onSuccess",b,f),null===(o=(a=this.options).onFinally)||void 0===o||o.call(a,f,b,void 0),d===this.count&&this.runPluginHandler("onFinally",f,b,void 0),[2,b];case 3:if(w=P.sent(),d!==this.count)return[2,new Promise(function(){})];throw this.setState({error:w,loading:!1}),null===(c=(u=this.options).onError)||void 0===c||c.call(u,w,f),this.runPluginHandler("onError",w,f),null===(l=(s=this.options).onFinally)||void 0===l||l.call(s,f,void 0,w),d===this.count&&this.runPluginHandler("onFinally",f,void 0,w),w;case 4:return[2]}})})},n.prototype.run=function(){for(var n=this,r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.runAsync.apply(this,(0,i.__spreadArray)([],(0,i.__read)(r),!1)).catch(function(r){n.options.onError||console.error(r)})},n.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},n.prototype.refresh=function(){this.run.apply(this,(0,i.__spreadArray)([],(0,i.__read)(this.state.params||[]),!1))},n.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,i.__spreadArray)([],(0,i.__read)(this.state.params||[]),!1))},n.prototype.mutate=function(n){var r=(0,F.mf)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",r),this.setState({data:r})},n}(),I=function(n,r,t){void 0===r&&(r={}),void 0===t&&(t=[]);var e=r.manual,a=void 0!==e&&e,o=r.ready,u=void 0===o||o,c=(0,i.__rest)(r,["manual","ready"]);N.Z&&r.defaultParams&&!Array.isArray(r.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof r.defaultParams));var f=(0,i.__assign)({manual:a,ready:u},c),d=(0,j.Z)(n),v=L(),p=s(function(){var n=t.map(function(n){var r;return null===(r=null==n?void 0:n.onInit)||void 0===r?void 0:r.call(n,f)}).filter(Boolean);return new W(d,f,v,Object.assign.apply(Object,(0,i.__spreadArray)([{}],(0,i.__read)(n),!1)))},[]);return p.options=f,p.pluginImpls=t.map(function(n){return n(p,f)}),D(function(){if(!a&&u){var n=p.state.params||r.defaultParams||[];p.run.apply(p,(0,i.__spreadArray)([],(0,i.__read)(n),!1))}}),(0,l.Z)(function(){p.cancel()}),{loading:p.state.loading,data:p.state.data,error:p.state.error,params:p.state.params||[],cancel:(0,B.Z)(p.cancel.bind(p)),refresh:(0,B.Z)(p.refresh.bind(p)),refreshAsync:(0,B.Z)(p.refreshAsync.bind(p)),run:(0,B.Z)(p.run.bind(p)),runAsync:(0,B.Z)(p.runAsync.bind(p)),mutate:(0,B.Z)(p.mutate.bind(p))}},k=function(n,r,t){return I(n,r,(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(t||[]),!1),[w,A,Z,C,H,u,g,O],!1))}}}]);